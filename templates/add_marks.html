<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Enter Marks — SPMS</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
<header class="topbar-min">
  <div class="brand-min">SPMS</div>
  <nav class="nav-min">
    <a href="/">Dashboard</a>
    <a href="/students">Students</a>
    <a href="/courses">Courses</a>
    <a href="/add-marks-page" class="active">Enter Marks</a>
    <a href="/monitor">Monitor</a>
    <a href="/logout">Logout</a>
  </nav>
</header>

<main class="container narrow">
  <div class="panel form-panel">
    <h2>Enter Marks</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for cat, msg in messages %}
          <div class="flash {{ cat }}">{{ msg }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form action="{{ url_for('add_marks') }}" method="POST" class="form-grid">
      <label>Select Student (USN)
        <select name="usn" required>
          <option value="">-- pick student --</option>
          {% for s in students %}
            <option value="{{ s.usn }}">{{ s.student_name }} — {{ s.usn }}</option>
          {% endfor %}
        </select>
      </label>

      <label>Course
        <select name="course_code" required>
          <option value="">-- pick course --</option>
          {% for c in courses %}
            <option value="{{ c.course_code }}">
              {{ c.course_code }} ({{ c.credit }} cr)
            </option>
          {% endfor %}
        </select>
      </label>

      <label>IA1 (out of 30)
        <input type="number" name="ia1" min="0" max="30" value="" required>
      </label>

      <label>IA2 (out of 30)
        <input type="number" name="ia2" min="0" max="30" value="" required>
      </label>

      <label>IA3 (out of 30)
        <input type="number" name="ia3" min="0" max="30" value="" required>
      </label>

      <label>Assignment (out of 20)
        <input type="number" name="assignment" min="0" max="20" value="" required>
      </label>

      <div class="form-actions">
        <button class="btn primary">Save Marks</button>
      </div>
    </form>
  </div>
</main>
</body>
</html>
